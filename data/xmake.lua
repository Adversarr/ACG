target('acg_data')
  set_kind('static')
  add_files('source/**.cpp')
  add_includedirs('include', {public = true})
  on_load(function(target)
    import('core.project.config')
    local build_dir = os.projectdir() -- config.get("projectdir")
    build_dir = path.absolute(build_dir)
    target:add("defines", 'DATA_DIR="' .. string.gsub(build_dir, '\\', '/') .. '/data/data"')
  end)

  add_deps('acg_core')
target_end()


target('acg_data_test')
  set_kind('binary')
  set_group('test')
  add_files('test/**.cpp')
  add_deps('acg_data')
  add_packages('doctest')
target_end()
